{% extends 'base.html' %}

{% block css_style %}
<link rel="stylesheet" href="/static/css/style/check.css">
{% endblock %}

{% block content %}
<div>
  <fieldset class="layui-elem-field layui-field-title layui-anim layui-anim-fadein" style="border-color: rgb(156 156 156 / 66%);margin: 50px auto 0px;">
    <legend>Tasks Bar - å®¡æŸ¥</legend>
  </fieldset>
  <span class="layui-breadcrumb layui-anim layui-anim-fadein check-index">
    <a href="#check">å®¡æŸ¥</a>
    <a href="#info">å…¬å‘Š</a>
    <a href="#note">ç¬”è®°</a>
  </span>
  <div class="main layui-anim layui-anim-upbit">
    <a name="check">å®¡æŸ¥</a>
      <button onclick="window.open('/download/{{ now_category }}');" type="button" class="layui-btn layui-bg-black" style="float:right;margin: 60px 3px 0px;">ä¸‹è½½å½“å‰åˆ†ç±»</button>
      <div class="check-block">
        <div class="category" style="float:right;">
          <form>
            <label class="layui-btn layui-bg-black download-botton">åˆ†ç±»</label>
            <select id="category" required>
              <option id="default-item" value="0">è¯·é€‰æ‹©</option>
              {% for k,v in category.items() %}
              <option id='category_item' value="{{ k }}">{{ v }}</option>
              {% endfor %}
            </select>
          </form>
        </div>
      <p style="float:right;font-size:17px;margin:17px;">å½“å‰åˆ†ç±»ï¼š{{ now_category }}</p>
      <p style="margin-top: 5px;">ID: {{ current_user.id }}</p>
      <p>ORG-ID: {{ current_user.org_id }}</p>
      <div>
        <table lay-filter="check-table">
            <thead>
              <tr>
                <th lay-data="{field:'name', fixed:'left', width:90}">å§“å</th>
                <th lay-data="{field:'id', width:110}">ID</th>
                <th lay-data="{field:'org_id', width:90}">ORG-ID</th>
                {% for header in table_header %}
                  <th lay-data="{field:'{{ header }}', width:100}" class="table-index">{{ header }}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for info in table_info %}
              <tr>
                {% for own_info in info[:2] %}
                <td>{{ own_info }}</td>
                {% endfor %}
                {% for own_status in info[2:] %}
                <td>{{ own_status }}</td>
                {% endfor %}
              </tr>
              {% endfor %}
            </tbody>
        </table>
      </div> 
      <br>
      <br>
      <br>
    </div>
    <a name="info">å…¬å‘Š</a>
    <div class="info-block">
      <p style="margin-top: 5px;">å½“ä½ æ‰€å±ç»„çš„ç®¡ç†å‘˜å‘é€ä¸€ä¸ªæ–°çš„å…¬å‘Šæ—¶,å®ƒå°†å±•ç¤ºåœ¨è¿™é‡Œ</p>
      <br>
      <div class="layui-card">
        <div class="layui-card-header">
          <p>èŠ±èŒ¶èŠ±èŒ¶èŠ±</p>
        </div>
        <div class="layui-card-body">
          <p>Hi! We must add more functions to this program! Let's do that!</p>
        </div>
      </div>
      <div class="layui-card">
        <div class="layui-card-header">
          <p>ä¸Šæ‰çº±ç»‡</p>
        </div>
        <div class="layui-card-body">
          <p>We have to speed up development!</p>
        </div>
      </div>
      <br>
      <br>
    </div>
    <a name="note">ç¬”è®°</a>
    <div class="note-block" style="margin-bottom: 200px;">
      <p style="margin: 5px auto 10px;">è¿™é‡Œçš„å†…å®¹å°†å’Œä¸æ‚¨ä½¿ç”¨äº†å…±åŒç»„ç»‡IDçš„ç”¨æˆ·å…±äº«ï¼Œæ‚¨å¯ä»¥åœ¨è¿™é‡Œåšç¬”è®°æˆ–åˆ†äº«æƒ³æ³•</p>
      <blockquote class="layui-elem-quote">é…¸æŸ èŠ±èŒ¶: Do it! Just do it!</blockquote>
      <blockquote class="layui-elem-quote">ç‰æŸ³: I'm going to make the back-end program.</blockquote>
      <blockquote class="layui-elem-quote">Flavor: ğŸ˜ƒ</blockquote>
      <form class="layui-form upload-form layui-anim-upbit" style="margin-top: 17px;" action="">
        <div class="layui-form-item layui-form-text">
          <label class="layui-form-label layui-bg-black" style="text-align: center;">Notes</label>
            <div class="layui-input-block">
              <textarea name="desc" placeholder="Taking notes, or talking to your colleagues." class="layui-textarea"></textarea>
            </div>
        </div>
        <button id="upload-submit" class="layui-btn layui-bg-black" lay-submit lay-filter="formDemo">Submit</button>
      </form>
    </div>
  </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.getElementById("check-nav").setAttribute('class','layui-nav-item layui-this')
</script>
<script>
  layui.use('form', function(){
    var form = layui.form;
    form.on('submit(formDemo)', function(data){
      layer.msg(JSON.stringify(data.field));
      return false;
    });
  });
</script>
<script>
  $("#category").on('change',function (){
    obj = $("#category").find("option:selected")
    text = obj.text();
    window.location.replace('/check/'+text);
  });
</script>
<script>
  layui.use('table', function(){
    var table = layui.table;
    //è½¬æ¢é™æ€è¡¨æ ¼

    table.init('check-table', {
    height: 500 //è®¾ç½®é«˜åº¦
    ,limit: 50 //æ³¨æ„ï¼šè¯·åŠ¡å¿…ç¡®ä¿ limit å‚æ•°ï¼ˆé»˜è®¤ï¼š10ï¼‰æ˜¯ä¸ä½ æœåŠ¡ç«¯é™å®šçš„æ•°æ®æ¡æ•°ä¸€è‡´
    //æ”¯æŒæ‰€æœ‰åŸºç¡€å‚æ•°
    }); 
  });
</script>
{% endblock %}
